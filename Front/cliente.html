<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://sdk.mercadopago.com/js/v2"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <link rel="shortcut icon" href="./Imagenes/M&E.ico">
    <title>M&E</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Sans:ital@1&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap');

        body {
            background-color: #b86262;
            font-family: 'Fira Sans', sans-serif;
        }

        .btn {
            background-color: #a30a0a;
            color: white;
            font-size: medium;
        }

        .btn:hover {
            color: white;
            border: 3px dashed #ffee32;
        }

        h1 {
            font-family: 'Luckiest Guy', cursive;
        }

        .presentation,
        .tab-content {
            background-color: white;
            border-radius: 5px 5px 0 0;
        }

        a {
            color: black;
        }

        a:hover {
            color: rgb(82, 79, 79);
        }

        @media screen {
            #printSection {
                display: none;
            }
        }

        @media print {
            body * {
                visibility: hidden;
            }

            #printSection,
            #printSection * {
                visibility: visible;
            }

            #modal * {
                visibility: visible;
            }

            #printSection {
                position: absolute;
                left: 0;
                top: 0;
            }
        }

        .id {
            float: right;
            gap: 15px;
        }
    </style>
</head>

<body onload="OnLoad()" id="body">
    <!-- Navbar -->
    <section>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div style="display: flex; align-items: center; justify-content: center;">
                <img src="./Imagenes/m&elogo-modified.ico" alt="" style="height: 50px;">
                <h4 style="color: white; margin-top: 5%;">&nbsp M&E</h4>
            </div>

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto"></ul>
                <form class="form-inline my-2 my-lg-0" style="gap: 15px;">

                    <a class="btn btn-success my-2 my-sm-0" href="menu.html">Volver</a>
                    <a class="btn btn-success my-2 my-sm-0" type="button" href="index.html">
                        Salir
                        <i class="bi bi-box-arrow-right"></i>
                    </a>
                </form>
            </div>
        </nav>
    </section>
    <!-- HEAD -->
    <section class="container" style="text-align: center; margin-top: 2%;">
        <h1 class="display-3">Clientes</h1>
    </section>
    <!-- BODY -->
    <section class="container body">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item presentation" role="presentation">
                <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
                    aria-selected="true">Listado de Clientes</a>
            </li>

            <li class="nav-item presentation" role="presentation">
                <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab"
                    aria-controls="profile" aria-selected="false">Registrar Nuevo Cliente</a>
            </li>

        </ul>
        <div class="tab-content" id="myTabContent" style="margin-bottom: 3%;">
            <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                <div class="container" style="padding: 3%;">
                    <div style="text-align:left">
                        <label for="">Buscar por Documento</label>
                        <select name="id" id="cboId" class="form-control">
                        </select>
                    <button class="btn" type="submit" onclick="buscar()"><i class='bi bi-search'></i></button>
                    </div>
                    <table class="table table-responsive-sm">
                        <table class="table table-responsive-md" id="TablaRemitos">
                            <thead class="thead-dark">

                               <!--<th data-field="id">IdCliente</th>-->
                                <th data-field="Cliente">Cliente</th>
                                <th data-field="Documento">Documento</th>
                                <th data-field="Direccion">Direccion</th>
                                <th data-field="Barrio">Barrio</th>
                                <th data-field="Teléfono">Teléfono</th>
                                <th data-field="Flag">Estado</th>
                                <th>Acciones</th>
                                <!-- <th data-field="color" scope="col">Casado</th>-->

                            </thead>
                            <tbody id="cuerpoTabla">
                            <tbody id="cuerpoTablaID"></tbody>
                            </tbody>
                        </table>
                        <br>
                        <button id="btnDescargar" class="btn btn-default"> Descargar Excel </button>
                        <button type="button" style="float: right;"class="btn btn--white" onclick="checkout2.open()">Mercado Pago</button>

                        <!--  <div class="asagiSabit whatsappBlock">  SERIA SOLO EL ICONO
                              <a href="https://api.whatsapp.com/send?phone=+5491170797070&amp;text=Hola" target="_blank" rel="noopener">
                                  <img src="./Imagenes/wap.png" class="lazy" alt="Whataspp" width="24px" height="24px">
                              </a>
                               </div> -->
                               <br>
                               <br>
                               <br>
  
                          <div>
                              <h3 style="color: #6bb83e">Enviar mensaje Whataspp</h3>
                              <h6>Colocar numero sin el 15 ni espacios 3511234567 no <strike>+ 351 151234567 </strike></h6>
                              <input id="number" type="number" placeholder="Ingrese numero telefonico" >
                              <input id="name" type="text" placeholder="Nombre" >
                              <input id="msg" type="text" placeholder="Mensaje" >
                              <button onclick="send_handle()">ENVIAR</button>
                          </div> 
                      <!--<h1 id="txtA">a</h1>-->  
                </div>
            </div>
<!-- Cargar Cliente -->
    <div class="modal fade" id="profile" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                 <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">ALTA CLIENTE</h5>
                 </div>
                 <div class="modal-body">
                    <div class="container d-flex justify-content-center mt-5">
                        <form>
                            <div class="form-row">
                                <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label> Cliente </label>
                                        <input type="text" class="form-control" id="txtNombre"
                                            placeholder="Ingrese cliente">
                                    </div>
                                </div>
                                <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label> Documento </label>
                                        <input type="number" class="form-control" id="txtDocumento"
                                            placeholder="Ingrese Documento">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label> Direccion </label>
                                        <input type="text" class="form-control" id="txtDireccion"
                                            placeholder="Ingrese Direccion">
                                    </div>
                                </div>
                                <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label> Barrio </label>
                                        <select  name="barrios" class="form-control mb-3" id="cboBarrios">
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label> Telefono </label>
                                        <input type="number" class="form-control" id="txtTelefono"
                                            placeholder="Ingrese telefono">
                                    </div>
                                </div>
                                <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                    <div class="form-group">
                                        <label> Estado </label>
                                        <input type="number" class="form-control" id="txtFlag"
                                            placeholder="0: Inactivo - 1: Activo">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">

                            <button type="button" id="btnAgregar" name="btnAgregar" class="btn btn-success">Agregar</button>
                            <button class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                        </div>
                    </div>
                </form>    
            </div>
        </div>
     </div>

</section>

    <!-- UPDATE CLIENTE-->
    <div class="modal fade" id="update" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">MODIFICAR CLIENTE</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="container d-flex justify-content-center mt-5">
                        <section>
                            <form>
                                <div class="row">
                                    <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                        <div class="form-group">
                                            <input type="hidden" class="form-control" id="txtId">

                                            <label> Nombre </label>
                                            <input type="text" class="form-control" id="txtNombreM"
                                                placeholder="Ingrese nombre">
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                        <div class="form-group">
                                            <label> Documento </label>
                                            <input type="text" class="form-control" id="txtDocumentoM"
                                                placeholder="Ingrese Documento">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                        <div class="form-group">
                                            <label> Direccion </label>
                                            <input type="text" class="form-control" id="txtDireccionM"
                                                placeholder="Ingrese Direccion">
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                        <div class="form-group">
                                            <label> Barrio </label>
                                            <select name="barrio" class="form-control mb-3" id="cboBarriosM">
                                            </select>
                                           <!-- <input type="text" class="form-control" id="txtBarrio"
                                            placeholder="Ingrese Direccion">-->
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                        <div class="form-group">
                                            <label> Telefono </label>
                                            <input type="number" class="form-control" id="txtTelefonoM"
                                                placeholder="Ingrese telefono">
                                        </div>
                                    </div>
                                    <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                        <div class="form-group">
                                            <label> Estado </label>
                                            <input type="number" class="form-control" id="txtFlagM"
                                                placeholder="Ingrese Estado" disabled>
                                        </div>
                                    </div>
                                </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-success" type="button" id="btnModificar">Aceptar</button>
                        <button type="button" class="btn" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--BAJA CLIENTE-->
    <div class="modal fade" id="baja" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">BAJA CLIENTE</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="container">                          
                                    <div class="col-12 col-sm-12 sol-md-6 col-lg-6">
                                        <div class="form-group">
                                            <input type="hidden" class="form-control" id="txtIdD"
                                            placeholder="Ingrese Id">
                                            <label> Estado</label>
                                            <input type="number" class="form-control" id="txtFlagD"
                                                placeholder="Ingrese Estado">
                                        </div>
                                    </div>                         
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-success" type="button" id="btnDelete">Aceptar</button>
                        <button type="button" class="btn" data-dismiss="modal">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const mp2 = new MercadoPago('TEST-b907030f-87c5-4002-b706-d523aa83297f', {
            locale: 'es-AR'
        });
        const checkout2 = mp2.checkout({
            preference: {
                id: '130151352-57150d14-dbe9-4499-a5df-aa37566c2eee'
            }
        });
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
        integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="JS/tableToExcel.js"></script>
    <script src="JS/app.js"></script>

</body>
<script>

$('#btnDescargar').on('click', requestDescargar);

function requestDescargar(){
  tableToExcel('TablaRemitos', 'Datos', 'Clientes');
}

    let Clientes = [];

    $(document).ready(function () {
        $.ajax({
            url: "https://localhost:5001/Cliente/ObtenerCliente",
            type: "GET",
            success: function (result) {
                if (result.ok) {
                    console.log(result)
                    cargarTabla(result.return);
                } else {
                    alert(result.error)
                }
            },
            error: function (error) {
                swal("Problemas al conseguir datos de las personas");
            },
        })
    })

    function cargarTabla(datos) {
        //$("#cuerpoTabla").html("");


        for (let i = 0; i < datos.length; i++) {
            let html = "<tr>";
           // html += "<td>" + datos[i].idCliente + "</td>";
            html += "<td>" + datos[i].nombreCliente + "</td>";
            html += "<td>" + datos[i].documento + "</td>";
            html += "<td>" + datos[i].direccion + "</td>";
            html += "<td>" + datos[i].codBarrioNavigation.nombre + "</td>";
            html += "<td>" + datos[i].telefono + "</td>";
            //html += "<td>" + datos[i].flag  + "</td>";
            if (datos[i].flag == 0) {
                html += "<td style=color:red;>inactivo</td>";//hacer que se muestre rojo: INACTIVO
            }
            else if (datos[i].flag == 1) {
                html += "<td style=color:#6bb83e;>activo</td>";//hacer que se muestre verde: ACTIVO
            }

            Clientes.push(datos[i]);
            
            html += "<td><button type='button' class='btn btn-primary pl-4 pr-4'' id='modificar' onclick='modificar (" + datos[i].idCliente + ")' data-toggle='modal' data-target='#update' data-placement='bottom'>" +
                "<i class='bi bi-pencil-fill'></i></button> &nbsp;" +
                "<button type='button' id='btnBaja' name='btnBaja' class='btn btn-success pl-4 pr-4' onclick='eliminar (" + datos[i].idCliente + ") ' data-toggle='modal' data-target='#baja' data-placement='bottom'>" +
                "<i class='bi bi-trash-fill'></i></button> " + "</td>";
            html += "</tr>"
            $("#cuerpoTabla").append(html);
        }
       // $('#txtA').html(datos[0].nombreCliente);

    }


//para comunicacion con cliente whattsapp
function send_handle(){

let num = document.getElementById("number").value;

let msg = document.getElementById("msg").value;

let name = document.getElementById("name").value;

var win = window.open(`https://wa.me/${num}?text=Somos%20MYE%20Indumentaria%20%20%20${name}%20%20${msg}`, '_blank');
// win.focus();
}


    // GET bARRIO ALTA
    $(document).ready(function () {
        $.ajax({
            url: "https://localhost:5001/Cliente/ObtenerBarrios",
            type: "GET",
            success: function (result) {
                if (result.ok) {
                    barrios = result.return;
                    cargarCombo(barrios);
                } else {
                    swal(result.error);
                }
            },
            error: function (error) {
                swal("Problemas al conseguir datos de barrios");
            },
        })

        // carga combo
        function cargarCombo(datos) {
            var html = "<option value=''> SELECCIONE </option>";
            $("#cboBarrios").append(html);
            select = document.getElementById("cboBarrios");
            for (let i = 0; i < datos.length; i++) {
                var option = document.createElement('option');
                option.value = datos[i];
                option.text = datos[i].nombre;
                select.add(option);
            }
        }

    })

 


    $("#btnAgregar").click(function () {
        let nombre = $("#txtNombre").val();
        let dni = $("#txtDocumento").val();//documento
        let direccion = $("#txtDireccion").val();//direccion
        let barrio = $("#cboBarrios").val();//barrio
        let telefono = $("#txtTelefono").val();//telefono
        let flag = $("#txtFlag").val();//flag

        if (nombre === "" || dni === "" || direccion === "" || barrio === "" || telefono === "" || flag === "") {
            swal("Ingrese los datos requeridos");
        } else {
            altaCliente(nombre, dni, direccion, barrio, telefono, flag);
        }
    });

    function altaCliente(nombre, dni, direccion, barrio, telefono, flag) {
        comando = {
            "nombreCliente": nombre,
            "documento": parseInt(dni),
            "direccion": direccion,
            "codBarrio": 1,
            "telefono": parseInt(telefono),
            "flag": parseInt(flag),
        };
        $.ajax({
            url: "https://localhost:5001/Cliente/AltaCliente",
            type: "POST",
            dataType: 'JSON',
            contentType: 'application/json',
            data: JSON.stringify(comando),
            success: function (result) {
                if (result.ok) {
                    swal("Alta exitosa!");
                    setTimeout(function () { location.replace("http://127.0.0.1:5503/Front/cliente.html"); }, 3000);
                } else {
                    swal(result.error);
                }
            },
            error: function (error) {
                swal("Problemas en el servidor");
            },
        })
    }
       // GET bARRIO MODIFICAR
       $(document).ready(function () {
        $.ajax({
            url: "https://localhost:5001/Cliente/ObtenerBarrios",
            type: "GET",
            success: function (result) {
                if (result.ok) {
                    barrio = result.return;
                    cargarComboDos(barrio);
                } else {
                    swal(result.error);
                }
            },
            error: function (error) {
                swal("Problemas al conseguir datos de barrios");
            },
        })

        // carga combo
        function cargarComboDos(datos) {
            var html = "<option value=''> SELECCIONE </option>";
            $("#cboBarriosM").append(html);
            select = document.getElementById("cboBarriosM");
            for (let i = 0; i < datos.length; i++) {
                var option = document.createElement('option');
                option.value = datos[i].codBarrio;
                option.text = datos[i].nombre;
                select.add(option);
            }
        }

    })

    //llenar modal y pasar campos para modificar
    function modificar(id) {
        let idCliente = id;
        let nom = "";
        let dni = 0;
        let dir = "";
        let barri = 0;
        let telef = 0;
        let bandera = 0;

        for (let i = 0; i < Clientes.length; i++) {
            if (Clientes[i].idCliente == id) {
                nom = Clientes[i].nombreCliente;
                dni = Clientes[i].documento;
                dir = Clientes[i].direccion;
                barri = Clientes[i].codBarrio;
                telef = Clientes[i].telefono;
                bandera = Clientes[i].flag;
            }
        }

        $("#txtId").val(idCliente);
        $("#txtNombreM").val(nom);
        $("#txtDocumentoM").val(dni);
        $("#txtDireccionM").val(dir);
        $("#cboBarriosM").val(barri);
        $("#txtTelefonoM").val(telef);
        $("#txtFlagM").val(bandera);

        $("#btnModificar").click(function () {
            let idCliente = $("#txtId").val();
            let nombre = $("#txtNombreM").val();
            let dni = $("#txtDocumentoM").val();
            let dire = $("#txtDireccionM").val();
            let barrio = $("#cboBarriosM").val();
            let telefo = $("#txtTelefonoM").val();
            let bandera = $("#txtFlagM").val();

            if (nombre === "" || dni === "" || dire === "" || barrio === "" || telefo === "" || bandera === "") {
                swal("Ingrese los datos requeridos");
            }
            else
                modificarCliente(idCliente, nombre, dni, dire, barrio, telefo, bandera);
        })
    }
    //modificar cliente
    function modificarCliente(idCliente, nombre, dni, dire, barrio, telefo, bandera) {
        comando = {
            "idCliente": parseInt(idCliente),
            "nombreCliente": nombre,
            "documento": parseInt(dni),
            "direccion": dire,
            "codBarrio": barrio,
            "telefono": parseInt(telefo),
            "flag": parseInt(bandera),
        }

        $.ajax({
            url: "https://localhost:5001/Cliente/UpdateCliente",
            dataType: 'json',
            contentType: 'application/json',
            data: JSON.stringify(comando),
            type: "PUT",
            success: function (result) {
                if (result.ok) {
                    swal("Cliente modificado exitosamente");
                    setTimeout(function () { location.replace("http://127.0.0.1:5503/Front/cliente.html"); }, 3000);

                }
                else swal(result.error);
            },
            error: function (error) {
                swal("Error" + error);
            }
        });
    }
    
//eliminar cliente    
function eliminar(id) {
        let idCliente = id;
        let bandera = 0;

        for (let i = 0; i < Clientes.length; i++) {
            if (Clientes[i].idCliente == id) {
                bandera = Clientes[i].flag;
            }
        }

        $("#txtIdD").val(idCliente);
        $("#txtFlagD").val(bandera);


    $("#btnDelete").click(function () {
        let idCliente = $("#txtIdD").val();
        let bandera = $("#txtFlagD").val();

        if (idCliente ==="" || bandera === "") {
            swal("Ingrese los datos requeridos");
        } else {
            eliminarCliente(idCliente, bandera);
        }
    })
}


    function eliminarCliente(idCliente, bandera) {
        comando = {
            "idCliente": parseInt(idCliente),
            "flag": parseInt(bandera),
        }

        $.ajax({
            url: "https://localhost:5001/Cliente/ActualizarFlagCliente/" + idCliente,
            dataType: 'json',
            contentType: 'application/json',
            data: JSON.stringify(comando),
            type: "PUT",
            success: function (result) {
                if (result.ok) {
                    swal("Cliente dado de baja exitosamente");
                    setTimeout(function () { location.replace("http://127.0.0.1:5503/Front/cliente.html"); }, 3000);

                }
                else swal(result.error);
            },
            error: function (error) {
                swal("Error" + error);
            }
        });
    }

//OPCION BUSCAR

    $(document).ready(function () {
        $.ajax({
            url: "https://localhost:5001/Cliente/ObtenerCliente/",
            type: "GET",
            success: function (result) {
                if (result.ok) {
                    cliente = result.return;
                    cargarComboId(cliente);
                } else {
                    swal(result.error);
                }
            },
            error: function (error) {
                swal("Problemas al conseguir datos de clientes");
            },
        })

        // carga combo
        function cargarComboId(datos) {
            var html = "<option value=''> SELECCIONE DOCUMENTO </option>";
            $("#cboId").append(html);
            select = document.getElementById("cboId");
            for (let i = 0; i < datos.length; i++) {
                var option = document.createElement('option');
                option.value = datos[i].idCliente;
                option.text = datos[i].documento;
                select.add(option);
            }
        }

    })


    function buscar(){
        let id = Number($("#cboId").val());


        if (id == 0){
            $("#cuerpoTabla").show();
            $("#cuerpoTablaID").hide();

        } else if (id != 0){
            $.ajax({
                url: "https://localhost:5001/Cliente/ObtenerCliente/" + id,
                //dataType:'json',
                //contentType: 'application/json',
                //data: JSON.stringify(comando),
                type: "GET",
                success: function (result) {
                    if (result.ok) {
                        $("#cuerpoTablaID").empty();
                        $("#cuerpoTablaID").show()

                        let html = "<tr id='lista'>";
                
                        //html += "<td>"+result.return.idCliente +"</td>";
                        html += "<td>" + result.return.nombreCliente + "</td>";
                        html += "<td>" + result.return.documento + "</td>";
                        html += "<td>" + result.return.direccion + "</td>";
                        html += "<td>" + result.return.codBarrioNavigation.nombre + "</td>";
                        html += "<td>" + result.return.telefono + "</td>";
                        //html += "<td>" + datos[i].flag  + "</td>";
                        if (result.return.flag == 0) {
                            html += "<td style=color:red;>inactivo</td>";//hacer que se muestre rojo: INACTIVO
                        }
                        else if (result.return.flag == 1) {
                            html += "<td style=color:#6bb83e;>activo</td>";//hacer que se muestre verde: ACTIVO
                        }                           
                        html += "</td>";  
                

                        html += "<td><button type='button' class='btn btn-primary pl-4 pr-4'' id='modificar' onclick='modificar (" + result.return.idCliente + ")' data-toggle='modal' data-target='#update' data-placement='bottom'>" +
                        "<i class='bi bi-pencil-fill'></i></button> &nbsp;" +
                        "<button type='button' id='btnBaja' name='btnBaja' class='btn btn-success pl-4 pr-4' onclick='eliminar (" + result.return.idCliente + ") ' data-toggle='modal' data-target='#baja' data-placement='bottom'>" +
                        "<i class='bi bi-trash-fill'></i></button> " + "</td>";

                        html += "</tr>"

                        $("#cuerpoTabla").hide();
                            
                        $("#cuerpoTablaID").append(html);

                        swal("Datos traidos con exito");
                    } else {
                        swal(result.error);
                    }
                },
                error: function (error) {
                    swal("Problemas en el servidor");
                },
            })
    }};
</script>

</html>